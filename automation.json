{"id":"f40458e5-befb-4a9f-b696-623f2dd439ef","ownerId":"dO3d9aT8NvBPlJfYGnejQGuZXshb41lM","name":"Export an automation to GitHub","state":"available","description":"This template is set up to save an automation to GitHub whenever it's updated. The automation is saved as a JSON file. Note that the GitHub connector can't store files larger than 15MB. You can modify this automation by alerting team members about the status of the update to GitHub.","schedules":[{"id":"71472dce-50fb-4b86-b002-7f97ed9f69e2","startAt":null,"stopAt":null,"lastStartAt":null,"interval":-1,"timezone":"America\/Denver"}],"snippetIds":["9eac2bb0-1ed9-11ed-8b73-814457c25da5","70a930c0-4074-11ec-9bb6-b36e27de5d04"],"endpointIds":["63599d90-cc60-11ec-8627-27701235d734","e6b09740-1ee9-11ed-8cef-637581512ebf"],"connectorIds":["0d87808f-27c0-11ea-921c-022e6b5ea1e2","61a87510-c7a3-11ea-95da-0fb0c241e75c"],"workspace":{"blocks":[{"x":100,"y":100,"id":"3C20B071-E9B9-423B-8DF8-7AC02CAEB60F","name":"AutomationUpdated","type":"StartBlock","inputs":[{"id":"run_mode","type":"select","value":"webhook","structure":[]},{"id":"datasourcetype_guid","type":"select","value":"61a87510-c7a3-11ea-95da-0fb0c241e75c","structure":[],"displayValue":"Qlik Cloud Services"},{"id":"webhook_event_guid","type":"select","value":"d3958320-f77a-11ec-998f-979b98d5e4d7","structure":[],"displayValue":"Automation Updated"},{"id":"test_payload","type":"json","value":{"data":{"id":"d2c39090-fd1f-11ec-999f-09b41d3ae905","name":"Qlick Cloud webhook test","state":"available","ownerId":"VgOv_nOU4N9sPkUlQ894liG6MG0Lqj0k","runMode":"manual","spaceId":null,"tenantId":"9DNJCWjedz8Ubgiun7WfH16CjPLQj_if","createdAt":"2022-07-06T11:36:06.000000Z","lastRunAt":null,"schedules":[{"id":"d2cac040-fd1f-11ec-924a-8123a833bf18","stopAt":null,"startAt":null,"interval":-1,"timezone":"Europe\/Bucharest","lastStartAt":null}],"updatedAt":"2022-07-06T11:37:23.000000Z","snippetIds":[],"description":"test description","endpointIds":[],"connectorIds":[],"lastRunStatus":null},"source":"com.qlik\/automations","eventId":"00b42230-fd20-11ec-b880-d547fbe222ba","eventTime":"2022-07-06T11:37:23.422Z","eventType":"com.qlik.v1.automation.updated","extensions":{"userId":"VgOv_nOU4N9sPkUlQ894liG6MG0Lqj0k","ownerId":"VgOv_nOU4N9sPkUlQ894liG6MG0Lqj0k","updates":[{"path":"\/description","newValue":"test description","oldValue":null},{"path":"\/createdAt","newValue":"2022-07-06T11:36:06.000000Z","oldValue":"2022-07-06T11:36:06.000000Z"},{"path":"\/updatedAt","newValue":"2022-07-06T11:37:23.000000Z","oldValue":"2022-07-06T11:36:06.000000Z"}],"tenantId":"9DNJCWjedz8Ubgiun7WfH16CjPLQj_if","description":"Automation updated"},"contentType":"application\/json","eventTypeVersion":"1.0.0","cloudEventsVersion":"0.1"},"structure":[]},{"id":"webhook_documentation","type":"string","value":null,"structure":[]}],"childId":"61EE6296-7A3F-41E7-B09C-1FD71A3F1A8B","comment":"Configuration - set the run mode to webhook, select Qlik Cloud Services as the connector and then select the \"Automation updated event\".","disabled":false,"settings":[{"id":"automations_censor_data","type":"checkbox","value":false,"structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"displayName":"Automation Updated","loopBlockId":null},{"x":609,"y":1212,"id":"9BFBE796-3F7B-414D-8BA4-602227FF501A","name":"createBranch","type":"SnippetBlock","inputs":[{"id":"9eba70d0-1ed9-11ed-9ddc-9dd0fb7fb287","type":"string","value":"debbiepyykkonen","structure":[],"displayValue":"debbiepyykkonen"},{"id":"9ebbf060-1ed9-11ed-afa2-9f7291db7342","type":"string","value":"qlik","structure":[],"displayValue":"qlik"},{"id":"9ebcabc0-1ed9-11ed-bcd0-df5f43c0ceea","type":"string","value":"bf1345b53a2fd43f0242bf7bf0db82ac754e08d2","structure":[],"displayValue":"refs\/heads\/master"},{"id":"9ebdc940-1ed9-11ed-8015-f5fe505509e5","type":"string","value":"{ $.branchName }","structure":[]}],"childId":"00519E64-EB56-45D5-A295-6A09FE242212","comment":"Specify the Owner, Repository and From Reference input parameters. The do lookup functionality is available for all.","disabled":false,"settings":[{"id":"datasource","type":"select","value":"c774f670-25ac-11ee-ba8a-156d8a8bf793","structure":[]},{"id":"blendr_on_error","type":"select","value":"stop","structure":[]},{"id":"automations_censor_data","type":"checkbox","value":false,"structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"displayName":"Git Hub - Create Branch","loopBlockId":null,"snippet_guid":"9eac2bb0-1ed9-11ed-8b73-814457c25da5","datasourcetype_guid":"0d87808f-27c0-11ea-921c-022e6b5ea1e2"},{"x":175,"y":303,"id":"A0A9FE9F-DDD7-421A-B67E-B71865A5318A","name":"getAutomation2","type":"EndpointBlock","inputs":[{"id":"637d42f0-cc60-11ec-ada3-9b34db8aacf6","type":"string","value":"{$.AutomationUpdated.data.id}","structure":[]}],"childId":"9BFBE796-3F7B-414D-8BA4-602227FF501A","comment":null,"disabled":false,"settings":[{"id":"blendr_on_error","type":"select","value":"stop","structure":[]},{"id":"cache","type":"select","value":"0","structure":[]},{"id":"automations_censor_data","type":"checkbox","value":false,"structure":[]},{"id":"datasource","value":"6d42ca90-260d-11ec-8dfb-474a8f29c11a","displayValue":"Qlik Cloud Services"}],"collapsed":[{"name":"loop","isCollapsed":false}],"displayName":"Qlik Cloud Services - Get Automation 2","loopBlockId":null,"endpoint_guid":"63599d90-cc60-11ec-8627-27701235d734","datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c"},{"x":489,"y":1252,"id":"00519E64-EB56-45D5-A295-6A09FE242212","name":"CreateOrUpdateFileContent","type":"SnippetBlock","inputs":[{"id":"70b4a4c0-4074-11ec-a8e6-c1dc761dcfb1","type":"string","value":"debbiepyykkonen","structure":[],"displayValue":"debbiepyykkonen"},{"id":"70b5c000-4074-11ec-969e-792346f99f92","type":"string","value":"qlik","structure":[],"displayValue":"qlik"},{"id":"70b63220-4074-11ec-b55b-7725e494603a","type":"string","value":"automation.json","structure":[]},{"id":"b27fff40-4074-11ec-9f16-55d8428ec62c","type":"string","value":"{ $.branchName }","structure":[]},{"id":"70b75130-4074-11ec-84ab-e102a3b0c185","type":"string","value":"new version for the automation modified on { $.AutomationUpdated.data.updatedAt }","structure":[]},{"id":"70b84f80-4074-11ec-9358-b5650774d83c","type":"string","value":"{base64encode: {json: {$.getAutomation2}}}","structure":[]}],"childId":"901B47D5-2A82-48E4-BB77-A5CB7158DBC8","comment":"Specify the User and Repo parameters. The do lookup functionality is available for both.","disabled":false,"settings":[{"id":"datasource","type":"select","value":"c774f670-25ac-11ee-ba8a-156d8a8bf793","structure":[]},{"id":"blendr_on_error","type":"select","value":"stop","structure":[]},{"id":"automations_censor_data","type":"checkbox","value":false,"structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"displayName":"Git Hub - Create Or Update File Content","loopBlockId":null,"snippet_guid":"70a930c0-4074-11ec-9bb6-b36e27de5d04","datasourcetype_guid":"0d87808f-27c0-11ea-921c-022e6b5ea1e2"},{"x":220,"y":1368,"id":"901B47D5-2A82-48E4-BB77-A5CB7158DBC8","name":"createPullRequest","type":"EndpointBlock","inputs":[{"id":"e6e87240-1ee9-11ed-9d00-3785e1aca73f","type":"string","value":"debbiepyykkonen","structure":[],"displayValue":"debbiepyykkonen"},{"id":"e6f18960-1ee9-11ed-a46e-e3baf7e46151","type":"string","value":"qlik","structure":[],"displayValue":"qlik"},{"id":"e70e78b0-1ee9-11ed-89bc-3fb25bbea0b0","type":"string","value":"{ $.branchName }","structure":[]},{"id":"e7178460-1ee9-11ed-aac4-5b2648b3e3c2","type":"string","value":"{ $.branchName }","structure":[]},{"id":"774a7250-1eea-11ed-a20f-79bf2609fe81","type":"string","value":"master","structure":[],"displayValue":"master"},{"id":"a5267490-1eea-11ed-a4d8-f5ddd930d117","type":"longtext","value":"Please merge.","structure":[]}],"childId":null,"comment":"Specify the Owner, Repo and Target Branch input parameters. The do lookup functionality is available for all.","disabled":false,"settings":[{"id":"datasource","type":"select","value":"c774f670-25ac-11ee-ba8a-156d8a8bf793","structure":[]},{"id":"blendr_on_error","type":"select","value":"stop","structure":[]},{"id":"automations_censor_data","type":"checkbox","value":false,"structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"displayName":"GitHub - Create Pull Request","loopBlockId":null,"endpoint_guid":"e6b09740-1ee9-11ed-8cef-637581512ebf","datasourcetype_guid":"0d87808f-27c0-11ea-921c-022e6b5ea1e2"},{"x":97,"y":184,"id":"651FD3EB-499C-40DA-AFC4-E412E9435129","name":"condition2","type":"IfElseBlock","inputs":[{"id":"conditions","type":"custom","value":{"mode":"all","conditions":[{"input1":"{$.AutomationUpdated.data.id}","input2":"{$.automationId}","operator":"="}]},"structure":[]}],"childId":null,"comment":"Checking to see if updated automation is the same as the source automation.","disabled":false,"settings":[],"collapsed":[{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":true}],"conditions":[],"childTrueId":"A0A9FE9F-DDD7-421A-B67E-B71865A5318A","displayName":"Condition 2","loopBlockId":null,"childFalseId":null},{"x":104,"y":184,"id":"61EE6296-7A3F-41E7-B09C-1FD71A3F1A8B","name":"automationId","type":"VariableBlock","inputs":[],"childId":"123AA271-CB44-4B39-87AA-E1D2BE72EC7F","comment":"Configuration - Specify the id of the source automation.","disabled":false,"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"operations":[{"id":"set_value","key":"0B4DED7B-15C3-4CEC-9B2F-B6E217A99B3E","name":"Set value of { variable }","value":"{$.AutomationUpdated.data.id}"}],"displayName":"Variable - automationId","loopBlockId":null,"variableGuid":"16225039-03BD-4646-8349-89DAFAC38DD3"},{"x":97,"y":404,"id":"64D0FC6B-DC05-42E0-AB70-26A058076A3A","name":"condition","type":"IfElseBlock","inputs":[{"id":"conditions","type":"custom","value":{"mode":"all","conditions":[{"input1":"{$.automationId}","input2":null,"operator":"empty"}]},"structure":[]}],"childId":"651FD3EB-499C-40DA-AFC4-E412E9435129","comment":"Checking to see if the automationId has been filled in.","disabled":false,"settings":[],"collapsed":[{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":true}],"conditions":[],"childTrueId":"1DEF0EAC-8346-49DF-8E30-2734AC9FB268","displayName":"Condition","loopBlockId":null,"childFalseId":null},{"x":209,"y":544,"id":"1DEF0EAC-8346-49DF-8E30-2734AC9FB268","name":"error","type":"ErrorBlock","inputs":[{"id":"message","type":"string","value":"Variable \"automationId\" is empty.","structure":[]},{"id":"action","type":"select","value":"stop","structure":[]}],"childId":null,"comment":"Alert the user and stop the automation.","disabled":false,"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"displayName":"Error","loopBlockId":null},{"x":100,"y":460,"id":"123AA271-CB44-4B39-87AA-E1D2BE72EC7F","name":"branchName","type":"VariableBlock","inputs":[],"childId":"64D0FC6B-DC05-42E0-AB70-26A058076A3A","comment":"Variable for the name of the new branch with date suffix. Feel free to customize this, branch names must be unique.","disabled":false,"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"operations":[{"id":"set_value","key":"B30B5D0F-1466-44F6-9BD0-7013B1D0C49A","name":"Set value of { variable }","value":"feature\/updateAutomation-{date: {$.AutomationUpdated.data.updatedAt}, 'U'}"}],"displayName":"Variable - branchName","loopBlockId":null,"variableGuid":"A2B5F577-A5E0-4413-8131-B23AA54E1686"}],"variables":[{"guid":"A2B5F577-A5E0-4413-8131-B23AA54E1686","name":"branchName","type":"string"},{"guid":"16225039-03BD-4646-8349-89DAFAC38DD3","name":"automationId","type":"string"},{"guid":"5DAA237A-1ACA-4A91-8009-7F88CC5F9C18","name":"repositoryName","type":"string"},{"guid":"14272657-EC1A-4368-ACA3-3FC73E60DE5D","name":"mainBranchName","type":"string"},{"guid":"7F7D1DED-7E06-4FF8-B088-93075F915CE1","name":"repositoryOwner","type":"string"}]},"lastRun":{"id":"974bad54-6054-4c4d-8035-ff3bc5ad33aa","context":"webhook","status":"failed","title":null,"isTestRun":false,"isArchived":true,"error":null,"startTime":"2024-05-02T16:11:19.000000Z","stopTime":"2024-05-02T16:11:19.000000Z","scheduledStartTime":null,"createdAt":"2024-05-02T16:11:19.000000Z","updatedAt":null},"lastRunStatus":"failed","executionToken":"9KBLMMZz8R6Rt134CD5vYvWVeEs21Al7JWKO0Df0Rte9NR9uZg93efUTWPM9VRjX","runMode":"webhook","createdAt":"2024-05-02T16:07:35.000000Z","updatedAt":"2024-05-02T16:17:16.000000Z","lastRunAt":"2024-05-02T16:11:19.000000Z"}